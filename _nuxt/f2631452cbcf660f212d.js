(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{2806:function(e,t,r){"use strict";r.r(t);r(30),r(74);var o=r(22),n=r(41),l=r.n(n),c={data:function(){return{user:{},form:{username:"",password:""},show:!0}},methods:{onSubmit:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,l.a.post(t.apiUrl("login","with[0]=Role.Privileges&with[1]=Company.Package.Modules"),{username:t.form.username,password:t.form.password});case 3:o=r.sent,t.checkApiResponse(o.data,{onSuccessAlert:!1,onSuccess:function(){t.setUser(o.data.data);var e=[],r=[];o.data.data.Company.Package.Modules.map((function(t){e.push(t.ID),r.push(t)})),localStorage.setItem("moduleIDList",e),localStorage.setItem("moduleList",JSON.stringify(r)),e=[],r=[],o.data.data.Role.Privileges.map((function(t){e.push(t.ID),r.push(t)})),localStorage.setItem("privilegeIDList",e),localStorage.setItem("privilegeList",JSON.stringify(r));var n=o.data.data.Company.SpecialAttrs;localStorage.setItem("specialAttributes",JSON.stringify(n)),t.$router.push("/")}});case 5:case"end":return r.stop()}}),r)})))()},onReset:function(e){var t=this;e.preventDefault(),this.form.username="",this.form.name="",this.form.food=null,this.form.checked=[],this.show=!1,this.$nextTick((function(){t.show=!0}))},goToRegister:function(){this.$router.push("/register")},goToForgetPassword:function(){this.$router.push("/forgetPassword")}}},m=r(12),component=Object(m.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",[e.show?r("b-form",{attrs:{"pt-50":""},on:{submit:e.onSubmit,reset:e.onReset}},[r("b-form-group",{attrs:{id:"input-group-1",label:"Username:","label-for":"input-1",description:"We'll never share your username with anyone else."}},[r("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",type:"password",required:"",placeholder:"Enter Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("b-button",{attrs:{size:"lg",type:"submit",block:"",variant:"warning"}},[e._v("LOGIN")]),e._v(" "),r("br"),e._v(" "),r("b-button",{attrs:{size:"lg",block:"",variant:"warning"},on:{click:function(t){return e.goToRegister()}}},[e._v("SIGN UP")]),e._v(" "),r("br"),e._v(" "),r("b-button",{attrs:{size:"lg",block:"",variant:"info"},on:{click:function(t){return e.goToForgetPassword()}}},[e._v("Forget Password")])],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);