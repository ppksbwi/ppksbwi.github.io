(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2275:function(e,t,r){var content=r(2655);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("3b1f832a",content,!0,{sourceMap:!1})},2276:function(e,t,r){var content=r(2657);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("7c95ee16",content,!0,{sourceMap:!1})},2277:function(e,t,r){var content=r(2659);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("dee1b9dc",content,!0,{sourceMap:!1})},2654:function(e,t,r){"use strict";var n=r(2275);r.n(n).a},2655:function(e,t,r){(t=r(14)(!1)).push([e.i,"img[data-v-61507cbf]{width:60px}.inbox_chat[data-v-61507cbf]{height:550px;overflow-y:scroll}.active_chat[data-v-61507cbf]{background:#ebebeb}.incoming_msg_img[data-v-61507cbf]{display:inline-block;width:6%;padding:2px}.received_msg[data-v-61507cbf]{display:inline-block;padding:0 0 0 10px;vertical-align:top;width:92%}.received_withd_msg p[data-v-61507cbf]{background:#fff none repeat scroll 0 0;border-radius:3px;color:#646464;font-size:14px;margin:0;padding:5px 10px 5px 12px;width:100%}.time_date[data-v-61507cbf]{color:#747474;display:block;font-size:12px;margin:8px 0 0}.received_withd_msg[data-v-61507cbf]{width:53%}.mesgs[data-v-61507cbf]{float:left;padding:30px 15px 0 25px;width:90%;border-right:1px solid #fff}.sent_msg p[data-v-61507cbf]{border-radius:3px;font-size:14px;margin:0;padding:5px 10px 5px 12px;width:100%}.outgoing_msg[data-v-61507cbf]{overflow:hidden;margin:26px 0}.sent_msg[data-v-61507cbf]{float:right;width:53%}.input_msg_write input[data-v-61507cbf]{background:transparent none repeat scroll 0 0;border:none;color:#4c4c4c;font-size:15px;min-height:48px;width:100%;height:70px}.type_msg[data-v-61507cbf]{border-top:1px solid #c4c4c4;position:relative}.messaging[data-v-61507cbf]{padding:0 0 50px}.msg_history[data-v-61507cbf]{height:100%;overflow-y:auto}",""]),e.exports=t},2656:function(e,t,r){"use strict";var n=r(2276);r.n(n).a},2657:function(e,t,r){(t=r(14)(!1)).push([e.i,".input_msg_write input[data-v-baa1d7d2]{background:var(--theme1inv);border:none;color:var(--theme1);font-size:15px;min-height:48px;width:100%;height:70px}.type_msg[data-v-baa1d7d2]{position:relative}.msg_send_btn[data-v-baa1d7d2]{position:absolute;right:20px;top:17px}.msg_send_btn i[data-v-baa1d7d2]{font-size:200%}",""]),e.exports=t},2658:function(e,t,r){"use strict";var n=r(2277);r.n(n).a},2659:function(e,t,r){(t=r(14)(!1)).push([e.i,".page[data-v-24d78ab1]{height:100%;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative}.page[data-v-24d78ab1],.page-header[data-v-24d78ab1]{display:-webkit-box;display:flex}.page-header[data-v-24d78ab1]{-webkit-box-flex:0;flex:0 0 auto;-webkit-box-align:center;align-items:center;top:0;z-index:1}.page-content[data-v-24d78ab1]{margin-bottom:70px}.page-footer[data-v-24d78ab1]{-webkit-box-flex:0;flex:0 0 auto;position:-webkit-sticky;position:sticky;bottom:4px;z-index:1;min-height:70px;width:100%;position:absolute}",""]),e.exports=t},2789:function(e,t,r){"use strict";r.r(t);r(9),r(7),r(6),r(5),r(8),r(74);var n=r(22),o=r(0),c=r(52),d={props:["messages"]},l=(r(2654),r(12)),m=Object(l.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"messaging"},[r("div",{staticClass:"inbox_msg"},[r("div",{staticClass:"mesgs"},[r("div",{staticClass:"msg_history"},e._l(e.messages,(function(t,i){return r("div",{key:i},[t.isFromThird?r("div",{staticClass:"incoming_msg"},[r("div",{staticClass:"incoming_msg_img"},[r("img",{staticClass:"avatar",attrs:{src:"/img/user/"+t.avatar,alt:"sunil"}})]),e._v(" "),r("div",{staticClass:"received_msg"},[r("div",{staticClass:"received_withd_msg"},[r("p",[e._v(e._s(t.message))]),e._v(" "),r("span",{staticClass:"time_date text-theme1"},[e._v(" 11:01 AM | June 9")])])])]):r("div",{staticClass:"outgoing_msg"},[r("div",{staticClass:"sent_msg"},[r("p",{staticClass:"bg-theme2inv"},[e._v(e._s(t.message))]),e._v(" "),r("span",{staticClass:"time_date text-theme1"},[e._v(" 11:01 AM | June 9")])])])])})),0)])])])}),[],!1,null,"61507cbf",null).exports;function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var v={methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)("messages",{createMessage:"create"}),{onCreateMessage:function(){var e={room:this.currentRoomId,date:new Date,message:this.newMessage,isFromThird:!1};this.createMessage(e),this.newMessage=""}}),data:function(){return{newMessage:""}}},h=(r(2656),Object(l.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"type_msg ig-rounded"},[r("div",{staticClass:"input_msg_write"},[r("b-input",{staticClass:"write_msg ig-rounded shadow",attrs:{type:"text",placeholder:"Type a message"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onCreateMessage(t)}},model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}}),e._v(" "),r("b-btn",{staticClass:"msg_send_btn inverse",attrs:{icon:"",variant:"primary"},on:{click:e.onCreateMessage}},[r("i",{staticClass:"lnr lnr-chevron-right-circle",attrs:{"aria-hidden":"true"}})])],1)])}),[],!1,null,"baa1d7d2",null).exports),x=r(55),_=(r(97),{components:{ChatMessages:m,ChatNewMessage:h,SvgIcon:x.a},props:["messages","currentRoomId"],computed:{currentClass:function(){return this.isContextCollapsed&&!this.showByBreakpoint?{position:"fixed"}:{}}}});r(2658);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var y={components:{ChatWindow:Object(l.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"page-header shadow p-3 bg-theme1inv ig-rounded",style:e.currentClass},[r("svg-icon",{staticClass:"mr-2",attrs:{icon:"message",height:"40px",variant:"secondary",width:"40px"}}),e._v(" "),r("h6",{staticClass:" text-left text-theme1"},[e._v("Chat Room: #"+e._s(e.currentRoomId)+" ")]),e._v(" "),r("b-button",{staticClass:"inverse ml-auto",attrs:{size:"sm"}},[e._v(" + Options")])],1),e._v(" "),r("div",{staticClass:"page-content ig-active-scroll ghost-scroll"},[r("chat-messages",{attrs:{messages:e.messages}})],1),e._v(" "),r("div",{staticClass:"page-footer"},[r("chat-new-message")],1)])}),[],!1,null,"24d78ab1",null).exports},layout:"admin",computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)("rooms",{findRoomsInStore:"find"}),{},Object(c.c)("messages",{findMessagesInStore:"find"}),{rooms:function(){return this.findRoomsInStore({}).data},messages:function(){return this.findMessagesInStore({query:{room:this.currentRoomId,$sort:{date:-1}}}).data}}),asyncData:function(e){var t=e.store,r=e.params;return Object(n.a)(regeneratorRuntime.mark((function e(){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,o={query:{$sort:{date:-1}}},!r.id){e.next=6;break}n=r.id,e.next=12;break;case 6:return c={query:{$sort:{date:-1},$limit:1}},e.next=9,t.dispatch("rooms/find",c);case 9:d=e.sent,l=d.data[0]._id,n=l;case 12:return o.query.room=n,e.next=15,t.dispatch("messages/find",o);case 15:return e.abrupt("return",{currentRoomId:n});case 16:case"end":return e.stop()}}),e)})))()},meta:{page:{contentCentered:!0}}},O=Object(l.a)(y,(function(){var e=this.$createElement;return(this._self._c||e)("chat-window",{attrs:{currentRoomId:this.currentRoomId,messages:this.messages}})}),[],!1,null,null,null);t.default=O.exports}}]);